"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[653],{5653:function(e,t,c){c.r(t),c.d(t,{Movies:function(){return d}});var n=c(1413),a=c(885),s=c(4569),o=c.n(s),r=c(2791),i=c(3504),u=c(6871),l=c(8494),h=c(6409),f="Movies_form__mp42q",m="Movies_movies_block__moblu",p="Movies_moviesList__Un-WS",_=c(184),d=function(e){var t=e.onClick,c=e.BASE_URL,s=e.API_KEY,d=(0,r.useState)(""),v=(0,a.Z)(d,2),g=v[0],k=v[1],x=(0,r.useState)(""),j=(0,a.Z)(x,2),S=j[0],b=j[1],w=(0,r.useState)(""),C=(0,a.Z)(w,2),E=C[0],y=C[1],Z=(0,u.TH)(),q=(0,u.s0)(),M="".concat(c,"search/movie").concat(S,"&api_key=").concat(s,"&language=en-EN&page=1&include_adult=false&page=1");(0,r.useEffect)((function(){b(Z.search)}),[Z.search]);return(0,r.useEffect)((function(){t("".concat(Z.pathname).concat(Z.search)),console.log("".concat(Z.pathname).concat(Z.search))})),(0,r.useEffect)((function(){""!==S&&(console.log("".concat(Z.pathname).concat(Z.search)),o().get(M).then((function(e){y(e.data.results)})))}),[M,Z.pathname,Z.search,S]),(0,_.jsxs)("div",{className:m,children:[(0,_.jsxs)("form",{className:f,children:[(0,_.jsx)("input",{type:"text",placeholder:"Search images and photos",value:g,onChange:function(e){k(e.currentTarget.value.toLowerCase())}}),(0,_.jsxs)("button",{type:"submit",onClick:function(e){e.preventDefault(),""!==g.trim()?(q((0,n.Z)((0,n.Z)({},Z),{},{search:"query=".concat(g)})),b("?query=".concat(g)),k("")):h.Am.warn("There is nothing for this request!")},children:[(0,_.jsx)(l.Yfv,{}),(0,_.jsx)("span",{children:"Search"})]})]}),(0,_.jsx)("ul",{className:p,children:E&&E.map((function(e){return(0,_.jsx)("li",{children:(0,_.jsx)(i.rU,{to:"/movies/".concat(e.id),children:e.title})},e.id)}))})]})}}}]);
//# sourceMappingURL=653.2c057a55.chunk.js.map